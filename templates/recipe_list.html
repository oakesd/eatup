{% extends "base.html" %}

{% block head %}
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../static/styles/recipe_list.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/3/w3.css">

<!-- Import Bootstrap 5 -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

<!-- Fun social media icons I figured we could have for style points -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">


<title>EatUp | Catalog</title>
<link rel="stylesheet" href="{{ url_for('static', filename='styles/recipe_list.css') }}">

{% endblock %}

{% block body %}
<ul class="nav">
	<!--<img src="\static\media\EatUpLogo.png" alt="EatUp" width="80" height="80"> -->

	<!-- Top Header Navigation -->
	<nav class="w3-bar w3-black">
	
		<a href="{{ url_for('home') }}" class="w3-button w3-bar-item">Home</a>
		<a href="{{ url_for('recipe_upload') }}" class="w3-button w3-bar-item">Submit Your Recipe</a>
		<!--<a href="{{ url_for('logout') }}" class="w3-button w3-bar-item">Logout</a>
		<a href="{{ url_for('login') }}" class="w3-button w3-bar-item">Login</a>-->
	</nav>
</ul>

<form action="" method="POST" enctype="multipart/form-data">
    {{ form.csrf_token }}
    <div class="filter_title">
        <h1>Recipe Filter</h1>
    </div>

	<div class="row">
        <div class="col">
            <!-- Recipe Name -->
            <label for="cuisine_type" class="form-label">Cuisine</label>
            {{ form.cuisine_type(class_='form-control') }}
        </div>
        <div class="col">
            <!-- Cuisine Type -->
            <label for="diet_type" class="form-label">Diet</label>
            {{ form.diet_type(class_='form-control') }}
        </div>
    </div>

    <div class="row">
        <div class="col">
            <div class="filter_btns">
                <br>
                <input type="submit" value="Submit" class="btn btn-primary" />
                <a href="/recipe_list" id="cancel" name="cancel" class="btn btn-danger">Reset</a>
            </div>
        </div>
    </div>

</form>


{% for recipe in list %}
<div class="row justify-content-md-center">
  
  <div class="col col-lg-auto">
    <div class="recipe-container">
      <div class="card">
	<div class="img">
	  <img class="recipe-image" src="../static/{{ recipe[0]['image_path'] }}"></img>
	</div>
	<div class="recipe-overlay">
	  <a class="btn btn-success" href="https://eatup.pro/recipe?recipe_id={{ recipe[0]['recipe_id'] }}" target="_blank">See
	    Recipe</a>
	  <div class="recipe-text"> {{ recipe[0]['title'] }}</div>
	</div>
      </div>
    </div>
  </div>
  {% if recipe[1] %}
  
  <div class="col col-lg-auto">
    <div class="recipe-container">
      <div class="card">
	<div class="img">
	  <img class="recipe-image" src="../static/{{ recipe[1]['image_path'] }}"></img>
	</div>
	<div class="recipe-overlay">
	  <a class="btn btn-success" href="https://eatup.pro/recipe?recipe_id={{ recipe[1]['recipe_id'] }}" target="_blank">See
	    Recipe</a>
	  <div class="recipe-text"> {{ recipe[1]['title'] }}</div>
	</div>
      </div>
    </div>
  </div>
  {% endif %}
  {% if recipe[2] %}

  <div class="col col-lg-auto">
    <div class="recipe-container">
      <div class="card">
	<div class="img">
	  <img class="recipe-image" src="../static/{{ recipe[2]['image_path'] }}"></img>
	</div>
	<div class="recipe-overlay">
	  <a class="btn btn-success" href="https://eatup.pro/recipe?recipe_id={{ recipe[2]['recipe_id'] }}" target="_blank">See
	    Recipe</a>
	  <div class="recipe-text"> {{ recipe[2]['title'] }}</div>
	</div>
      </div>
    </div>
  </div>
  {% endif %}
</div>
{% endfor %}
</div>


{% endblock %}
